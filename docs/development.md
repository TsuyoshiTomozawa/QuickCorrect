# QuickCorrect Development Guide\n\n## ğŸš€ Quick Setup\n\n### Prerequisites\n- Node.js 18+ (æ¨å¥¨: 20.x)\n- npm 9+ ã¾ãŸã¯ yarn 3+\n- Git\n\n### Installation\n\n```bash\n# Clone the repository\ngit clone https://github.com/TsuyoshiTomozawa/QuickCorrect.git\ncd QuickCorrect\n\n# Install dependencies\nnpm install\n\n# Set up environment variables\ncp .env.example .env\n# Edit .env file to add your API keys\n```\n\n### Environment Setup\n\nCreate a `.env` file in the root directory:\n\n```env\n# OpenAI API Configuration\nOPENAI_API_KEY=your_openai_api_key_here\n\n# Anthropic Claude API Configuration (optional)\nANTHROPIC_API_KEY=your_anthropic_api_key_here\n\n# Google Gemini API Configuration (optional)\nGOOGLE_API_KEY=your_google_api_key_here\n\n# Development settings\nNODE_ENV=development\nDEBUG=true\n```\n\n## ğŸ”§ Development\n\n### Starting Development Server\n\n```bash\n# Start both renderer and main processes\nnpm run dev\n\n# Or start individually\nnpm run dev:renderer  # React development server\nnpm run dev:main      # Electron main process (watch mode)\n```\n\n### Building for Production\n\n```bash\n# Build all components\nnpm run build\n\n# Build individually\nnpm run build:renderer\nnpm run build:main\n\n# Create distributable packages\nnpm run pack    # Create unpacked directory\nnpm run dist    # Create installer packages\n```\n\n### Testing\n\n```bash\n# Run all tests\nnpm test\n\n# Run tests in watch mode\nnpm run test:watch\n\n# Run tests with coverage\nnpm run test:coverage\n```\n\n### Code Quality\n\n```bash\n# Lint code\nnpm run lint\n\n# Format code\nnpm run format\n\n# Type checking\nnpm run type-check\n```\n\n## ğŸ“ Project Structure\n\n```\nQuickCorrect/\nâ”œâ”€â”€ src/\nâ”‚   â”œâ”€â”€ main/                   # Electron main process\nâ”‚   â”‚   â”œâ”€â”€ main.ts            # Main entry point\nâ”‚   â”‚   â””â”€â”€ preload.ts         # Preload script\nâ”‚   â”œâ”€â”€ renderer/              # React frontend\nâ”‚   â”‚   â”œâ”€â”€ App.tsx            # Main React component\nâ”‚   â”‚   â”œâ”€â”€ components/        # UI components\nâ”‚   â”‚   â”œâ”€â”€ hooks/             # Custom React hooks\nâ”‚   â”‚   â”œâ”€â”€ styles/            # Styled components & themes\nâ”‚   â”‚   â””â”€â”€ utils/             # Frontend utilities\nâ”‚   â”œâ”€â”€ controllers/           # Business logic controllers\nâ”‚   â”‚   â”œâ”€â”€ HotkeyController.ts\nâ”‚   â”‚   â”œâ”€â”€ CorrectionController.ts\nâ”‚   â”‚   â””â”€â”€ ClipboardController.ts\nâ”‚   â”œâ”€â”€ models/                # Data models & AI integration\nâ”‚   â”‚   â”œâ”€â”€ CorrectionModel.ts\nâ”‚   â”‚   â”œâ”€â”€ HistoryModel.ts\nâ”‚   â”‚   â””â”€â”€ SettingsModel.ts\nâ”‚   â””â”€â”€ types/                 # TypeScript type definitions\nâ”‚       â””â”€â”€ interfaces.ts\nâ”œâ”€â”€ docs/                      # Documentation\nâ”œâ”€â”€ tests/                     # Test files\nâ”œâ”€â”€ assets/                    # Static assets (icons, etc.)\nâ”œâ”€â”€ build/                     # Build configuration\nâ””â”€â”€ release/                   # Distribution packages\n```\n\n## ğŸ—ï¸ Architecture Overview\n\n### MVC Pattern\n\n**Model (ãƒ‡ãƒ¼ã‚¿å±¤)**:\n- `CorrectionModel`: AI APIçµ±åˆã¨ãƒ†ã‚­ã‚¹ãƒˆå‡¦ç†\n- `HistoryModel`: å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã®ç®¡ç†\n- `SettingsModel`: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š\n\n**View (UIå±¤)**:\n- React components in `src/renderer/components/`\n- Styled-components for styling\n- Framer Motion for animations\n\n**Controller (åˆ¶å¾¡å±¤)**:\n- `HotkeyController`: ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ›ãƒƒãƒˆã‚­ãƒ¼ç®¡ç†\n- `CorrectionController`: æ·»å‰Šãƒ•ãƒ­ãƒ¼åˆ¶å¾¡\n- `ClipboardController`: ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰æ“ä½œ\n\n### Electron Architecture\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Main Process  â”‚    â”‚ Renderer Processâ”‚\nâ”‚                 â”‚    â”‚                 â”‚\nâ”‚ â€¢ Window mgmt   â”‚â—„â”€â”€â–ºâ”‚ â€¢ React UI      â”‚\nâ”‚ â€¢ Global hotkey â”‚ IPCâ”‚ â€¢ User interactionâ”‚\nâ”‚ â€¢ File system   â”‚    â”‚ â€¢ State mgmt    â”‚\nâ”‚ â€¢ AI API calls  â”‚    â”‚                 â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n          â”‚\n          â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚   Controllers   â”‚\nâ”‚                 â”‚\nâ”‚ â€¢ Business logicâ”‚\nâ”‚ â€¢ Data processingâ”‚\nâ”‚ â€¢ External APIs â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n## ğŸ”Œ API Integration\n\n### Adding New AI Providers\n\n1. Create provider class in `src/models/providers/`:\n\n```typescript\nexport class NewAIProvider implements AIProvider {\n  async correctText(text: string, mode: CorrectionMode): Promise<CorrectionResult> {\n    // Implementation\n  }\n}\n```\n\n2. Register in `CorrectionController`:\n\n```typescript\nthis.providers.set('newai', new NewAIProvider());\n```\n\n3. Add configuration to settings UI\n\n### Error Handling\n\n```typescript\ntry {\n  const result = await aiProvider.correctText(text, mode);\n  return result;\n} catch (error) {\n  if (error instanceof APIError) {\n    // Handle API-specific errors\n  } else if (error instanceof NetworkError) {\n    // Handle network errors\n  } else {\n    // Handle unexpected errors\n  }\n  throw new CorrectionError('Failed to correct text', error);\n}\n```\n\n## ğŸ§ª Testing Strategy\n\n### Unit Tests\n- Controllers: Business logic testing\n- Models: Data processing and API integration\n- Components: React component testing with React Testing Library\n\n### Integration Tests\n- IPC communication between main and renderer\n- End-to-end correction workflow\n- Hotkey functionality\n\n### E2E Tests\n- Complete user workflows\n- Cross-platform compatibility\n- Performance testing\n\n### Test Files Structure\n\n```\ntests/\nâ”œâ”€â”€ unit/\nâ”‚   â”œâ”€â”€ controllers/\nâ”‚   â”œâ”€â”€ models/\nâ”‚   â””â”€â”€ components/\nâ”œâ”€â”€ integration/\nâ”‚   â”œâ”€â”€ ipc/\nâ”‚   â””â”€â”€ workflow/\nâ””â”€â”€ e2e/\n    â”œâ”€â”€ user-flows/\n    â””â”€â”€ performance/\n```\n\n## ğŸš€ Deployment\n\n### Platform-Specific Builds\n\n```bash\n# Windows\nnpm run build:win\n\n# macOS\nnpm run build:mac\n\n# Linux\nnpm run build:linux\n\n# All platforms\nnpm run build:all\n```\n\n### Code Signing (Production)\n\n1. **Windows**: Authenticode certificate\n2. **macOS**: Apple Developer certificate\n3. **Linux**: GPG signing\n\n### Distribution\n\n- **Windows**: NSIS installer (.exe)\n- **macOS**: DMG package (.dmg)\n- **Linux**: AppImage (.AppImage)\n\n## ğŸ“ Contributing\n\n### Git Workflow\n\n1. Create feature branch from `main`:\n   ```bash\n   git checkout -b feature/your-feature-name\n   ```\n\n2. Make changes and commit:\n   ```bash\n   git add .\n   git commit -m \"feat: add your feature description\"\n   ```\n\n3. Push and create PR:\n   ```bash\n   git push origin feature/your-feature-name\n   ```\n\n### Commit Convention\n\n```\nfeat: new feature\nfix: bug fix\ndocs: documentation\nstyle: formatting\nrefactor: code restructuring\ntest: adding tests\nchore: maintenance\n```\n\n### Code Style\n\n- TypeScript strict mode\n- ESLint + Prettier\n- 2-space indentation\n- Semi-colons required\n- Single quotes for strings\n\n## ğŸ› Debugging\n\n### Development Tools\n\n```bash\n# Enable debug mode\nDEBUG=quickcorrect:* npm run dev\n\n# Open DevTools\n# Press F12 in the app window\n```\n\n### Logging\n\n```typescript\nimport { logger } from '../utils/logger';\n\nlogger.info('User action', { action: 'correct-text', length: text.length });\nlogger.error('API error', { provider: 'openai', error: error.message });\n```\n\n### Common Issues\n\n1. **Global hotkey not working**:\n   - Check accessibility permissions on macOS\n   - Verify no conflicts with other apps\n\n2. **AI API errors**:\n   - Verify API keys in `.env`\n   - Check rate limits\n   - Monitor network connectivity\n\n3. **Build failures**:\n   - Clear `node_modules` and reinstall\n   - Check Node.js version compatibility\n   - Verify build dependencies\n\n## ğŸ“Š Performance Monitoring\n\n### Metrics to Track\n\n- App startup time\n- Hotkey response time\n- AI API response time\n- Memory usage\n- CPU usage\n\n### Performance Tools\n\n```bash\n# Profile startup time\nnpm run profile:startup\n\n# Monitor memory usage\nnpm run profile:memory\n\n# Analyze bundle size\nnpm run analyze:bundle\n```\n\n## ğŸ”’ Security\n\n### API Key Management\n\n- Store encrypted in electron-store\n- Never log API keys\n- Validate on app startup\n\n### Data Privacy\n\n- No text data sent except to AI APIs\n- Local SQLite database encryption\n- User consent for data collection\n\n### Security Checklist\n\n- [ ] Content Security Policy (CSP)\n- [ ] Node integration disabled in renderer\n- [ ] Context isolation enabled\n- [ ] Input validation\n- [ ] Secure IPC communication\n\n---\n\n## ğŸ†˜ Getting Help\n\n- **Issues**: [GitHub Issues](https://github.com/TsuyoshiTomozawa/QuickCorrect/issues)\n- **Discussions**: [GitHub Discussions](https://github.com/TsuyoshiTomozawa/QuickCorrect/discussions)\n- **Documentation**: [Project Wiki](https://github.com/TsuyoshiTomozawa/QuickCorrect/wiki)\n\nHappy coding! ğŸ¯